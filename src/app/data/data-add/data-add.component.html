<h1 *ngIf="!isUpdateMode">Afegir transacció</h1>
<h1 *ngIf="isUpdateMode">Editar transacció</h1>

<form *ngIf="dataForm" [formGroup]="dataForm" (ngSubmit)="saveData()">
  <div>
    <label for="description">Descripció:</label>
    <input type="text" placeholder="Descripció" [formControl]="description" />

    <div *ngIf="description.errors">
      <div
        *ngIf="description.errors && isValidForm != null && !isValidForm"
        [ngClass]="'error'"
      >
        <div *ngIf="description.errors.required">Description is required</div>

        <div *ngIf="description.errors.maxlength">
          Description can be max 55 characters long.
        </div>
      </div>
    </div>
  </div>

  <div>
    <label for="value">Valor:</label>
    <input type="number" [formControl]="value" />

    <div *ngIf="value.errors">
      <div
        *ngIf="value.errors && isValidForm != null && !isValidForm"
        [ngClass]="'error'"
      >
        <div *ngIf="value.errors.required">Description is required</div>

        <div *ngIf="value.errors.maxlength">
          Description can be max 255 characters long.
        </div>
      </div>
    </div>
  </div>
  <section>
    <h4>Button Toggle inside of a Template-driven form</h4>
    <mat-button-toggle-group [(ngModel)]="type" aria-label="Font Style"
      >{{ type.value }}
    </mat-button-toggle-group>
    <p>Chosen value is {{ type }}</p>
  </section>
  <div>
    <label for="publicationDate">Data de publicació: </label>
    <input type="date" [formControl]="publication_date" />
    <div
      *ngIf="publication_date.errors && isValidForm != null && !isValidForm"
      [ngClass]="'error'"
    >
      <div *ngIf="publication_date.errors.required">
        Publication date is required
      </div>
    </div>
  </div>

  <div>
    <label for="categories">Escull les categories:</label>
    <select multiple [formControl]="categories">
      <option
        *ngFor="let category of categoriesList"
        [ngValue]="category.idCategory"
      >
        {{ category.name }}
      </option>
    </select>
  </div>

  <button type="submit">GUARDAR</button>
</form>
<button (click)="goListData()">Cancelar</button>
